{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/Cocos2dx-taxi/assets/script/game/GameCtrl.ts"],"names":["_decorator","Component","Node","AudioManager","CarManager","MapManager","ccclass","property","GameCtrl","type","onLoad","mapManager","resetMap","carManager","reset","curPath","start","node","on","EventType","TOUCH_START","_touchStart","TOUCH_END","_touchEnd","playMusic","touch","event","controMoving"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AAEvBC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,U,eAAAA,U;;AACAC,MAAAA,U,eAAAA,U;;;;;;;AACDC,MAAAA,O,GAAsBN,U,CAAtBM,O;AAASC,MAAAA,Q,GAAaP,U,CAAbO,Q;;0BAGJC,Q,WADZF,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAAC;AACRE,QAAAA,IAAI;AAAA;AAAA;AADI,OAAD,C,UAKRF,QAAQ,CAAC;AACRE,QAAAA,IAAI;AAAA;AAAA;AADI,OAAD,C;;;;;;;;;;;;;;;;;;;;;eAKFC,M,GAAP,kBAAgB;AACd,eAAKC,UAAL,CAAiBC,QAAjB;AACA,eAAKC,UAAL,CAAiBC,KAAjB,CAAuB,KAAKH,UAAL,CAAiBI,OAAxC;AACD,S;;eAEMC,K,GAAP,iBAAe;AACb,eAAKC,IAAL,CAAUC,EAAV,CAAahB,IAAI,CAACiB,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,WAA9C,EAA2D,IAA3D;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAahB,IAAI,CAACiB,SAAL,CAAeG,SAA5B,EAAuC,KAAKC,SAA5C,EAAuD,IAAvD;AAEA;AAAA;AAAA,4CAAaC,SAAb;AACD,S;;eAEOH,W,GAAR,qBAAoBI,KAApB,EAAkCC,KAAlC,EAAqD;AAAA;;AACnD,mCAAKb,UAAL,sEAAiBc,YAAjB;AACD,S;;eAEOJ,S,GAAR,mBAAkBE,KAAlB,EAAgCC,KAAhC,EAAmD;AAAA;;AACjD,oCAAKb,UAAL,wEAAiBc,YAAjB,CAA8B,KAA9B;AACD,S;;;QA7B2B1B,S;;;;;iBAIH,I;;;;;;;iBAKA,I","sourcesContent":["\nimport { _decorator, Component, Node, EventTouch } from 'cc';\nimport { Constants } from '../data/Constants';\nimport { AudioManager } from './AudioManager';\nimport { CarManager } from './CarManager';\nimport { MapManager } from './MapManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameCtrl')\nexport class GameCtrl extends Component {\n  @property({\n    type: MapManager\n  })\n  mapManager: MapManager = null;\n\n  @property({\n    type: CarManager\n  })\n  carManager: CarManager = null;\n\n  public onLoad() {\n    this.mapManager!.resetMap();\n    this.carManager!.reset(this.mapManager!.curPath);\n  }\n\n  public start() {\n    this.node.on(Node.EventType.TOUCH_START, this._touchStart, this);\n    this.node.on(Node.EventType.TOUCH_END, this._touchEnd, this);\n\n    AudioManager.playMusic();\n  }\n\n  private _touchStart(touch: Touch, event: EventTouch) {\n    this.carManager?.controMoving();\n  }\n\n  private _touchEnd(touch: Touch, event: EventTouch) {\n    this.carManager?.controMoving(false);\n  }\n}\n\n"]}