{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/Cocos2dx-taxi/assets/script/ui/MainUI.ts"],"names":["_decorator","Component","Label","Constants","CustomEventListener","RunTimeData","ccclass","property","MainUI","type","clickStart","dispatchEvent","EventName","GAME_START","onEnable","moneyLabel","string","instance","totolMoney","clickDebug","time","Date","now","_time","_clickTime","cc","sys","localStorage","removeItem","GameConfigID","console","log"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;;AAC7BC,MAAAA,S,kBAAAA,S;;AACAC,MAAAA,mB,4BAAAA,mB;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;AAEDC,MAAAA,O,GAAsBN,U,CAAtBM,O;AAASC,MAAAA,Q,GAAaP,U,CAAbO,Q;;wBAGJC,M,WADZF,OAAO,CAAC,QAAD,C,UAGLC,QAAQ,CAAC;AACRE,QAAAA,IAAI,EAAEP;AADE,OAAD,C;;;;;;;;;;;;;;uEAKY,C;;kEACL,C;;;;;;;eAETQ,U,GAAP,sBAAoB;AAClB;AAAA;AAAA,0DAAoBC,aAApB,CAAkC;AAAA;AAAA,sCAAUC,SAAV,CAAoBC,UAAtD;AACD,S;;eAEMC,Q,GAAP,oBAAkB;AAChB,eAAKC,UAAL,CAAgBC,MAAhB,QAA4B;AAAA;AAAA,0CAAYC,QAAZ,GAAuBC,UAAnD;AACD,S;;eAEMC,U,GAAP,sBAAoB;AAClB,cAAMC,IAAI,GAAGC,IAAI,CAACC,GAAL,EAAb;;AACA,cAAIF,IAAI,GAAG,KAAKG,KAAZ,IAAqB,GAAzB,EAA8B;AAC5B,iBAAKC,UAAL;AACD,WAFD,MAEO;AACL,iBAAKA,UAAL,GAAkB,CAAlB;AACD;;AAED,eAAKD,KAAL,GAAaH,IAAb;;AACA,cAAI,KAAKI,UAAL,GAAkB,CAAtB,EAAyB;AACvBC,YAAAA,EAAE,CAACC,GAAH,CAAOC,YAAP,CAAoBC,UAApB,CAA+B;AAAA;AAAA,wCAAUC,YAAzC;AACA,iBAAKL,UAAL,GAAkB,CAAlB;AACAM,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,S;;;QAhCyB9B,S;;;;;iBAKN,I","sourcesContent":["\nimport { _decorator, Component, Node, Label } from 'cc';\nimport { Constants } from '../data/Constants';\nimport { CustomEventListener } from '../data/CustomEventListener';\nimport { RunTimeData } from '../data/GameData';\nimport { CustomerManager } from '../game/CustomerManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MainUI')\nexport class MainUI extends Component {\n\n  @property({\n    type: Label\n  })\n  moneyLabel: Label = null;\n\n  private _clickTime = 0;\n  private _time = 0;\n\n  public clickStart() {\n    CustomEventListener.dispatchEvent(Constants.EventName.GAME_START);\n  }\n\n  public onEnable() {\n    this.moneyLabel.string = `${RunTimeData.instance().totolMoney}`;\n  }\n\n  public clickDebug() {\n    const time = Date.now();\n    if (time - this._time <= 200) {\n      this._clickTime++;\n    } else {\n      this._clickTime = 0;\n    }\n\n    this._time = time;\n    if (this._clickTime > 3) {\n      cc.sys.localStorage.removeItem(Constants.GameConfigID);\n      this._clickTime = 0;\n      console.log('clear cache')\n    }\n  }\n}"]}