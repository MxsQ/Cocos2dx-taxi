{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/taxi/assets/script/game/GameCtrl.ts"],"names":["_decorator","Component","Node","CarManager","MapManager","ccclass","property","GameCtrl","type","onLoad","mapManager","resetMap","carManager","resetCars","curPath","start","node","on","EventType","TOUCH_START","_touchStart","TOUCH_END","_touchEnd","touch","event","controMoving"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;AACvBC,MAAAA,U,eAAAA,U;;AACAC,MAAAA,U,eAAAA,U;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;0BAGjBO,Q,WADZF,OAAO,CAAC,UAAD,C,UAELC,QAAQ,CAAC;AACRE,QAAAA,IAAI;AAAA;AAAA;AADI,OAAD,C,UAKRF,QAAQ,CAAC;AACRE,QAAAA,IAAI;AAAA;AAAA;AADI,OAAD,C,oCAPX,MACaD,QADb,SAC8BN,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAW/BQ,QAAAA,MAAM,GAAE;AACb,eAAKC,UAAL,CAAiBC,QAAjB;AACA,eAAKC,UAAL,CAAiBC,SAAjB,CAA2B,KAAKH,UAAL,CAAiBI,OAA5C;AACD;;AAEMC,QAAAA,KAAK,GAAE;AACZ,eAAKC,IAAL,CAAUC,EAAV,CAAaf,IAAI,CAACgB,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,WAA9C,EAA2D,IAA3D;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAaf,IAAI,CAACgB,SAAL,CAAeG,SAA5B,EAAuC,KAAKC,SAA5C,EAAuD,IAAvD;AACD;;AAEOF,QAAAA,WAAW,CAACG,KAAD,EAAeC,KAAf,EAAiC;AAAA;;AAClD,mCAAKZ,UAAL,sEAAiBa,YAAjB;AACD;;AAEOH,QAAAA,SAAS,CAACC,KAAD,EAAeC,KAAf,EAAiC;AAAA;;AAChD,oCAAKZ,UAAL,wEAAiBa,YAAjB,CAA8B,KAA9B;AACD;;AA3BqC,O;;;;;iBAIL,I;;;;;;;iBAKA,I","sourcesContent":["\nimport { _decorator, Component, Node, EventTouch } from 'cc';\nimport { CarManager } from './CarManager';\nimport { MapManager } from './MapManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameCtrl')\nexport class GameCtrl extends Component {\n  @property({\n    type: MapManager,\n  })\n  mapManager : MapManager | null = null;\n\n  @property({\n    type: CarManager\n  })\n  carManager : CarManager | null = null;\n\n  public onLoad(){\n    this.mapManager!.resetMap();\n    this.carManager!.resetCars(this.mapManager!.curPath);\n  }\n\n  public start(){\n    this.node.on(Node.EventType.TOUCH_START, this._touchStart, this);\n    this.node.on(Node.EventType.TOUCH_END, this._touchEnd, this);\n  }\n\n  private _touchStart(touch: Touch, event: EventTouch){\n    this.carManager?.controMoving();\n  }\n\n  private _touchEnd(touch: Touch, event: EventTouch){\n    this.carManager?.controMoving(false);\n  }\n}\n\n"]}