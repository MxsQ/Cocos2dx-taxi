{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/Cocos2dx-taxi/assets/script/game/MapManager.ts"],"names":["_decorator","Component","GameMap","ccclass","property","MapManager","resetMap","_curMap","node","children","curMap","getComponent","curPath","path","maxProgress","recycle","destroy"],"mappings":";;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,O,YAAAA,O;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;4BAGjBK,U,WADZF,OAAO,CAAC,YAAD,C,yBAAR,MACaE,UADb,SACgCJ,SADhC,CAC0C;AAAA;AAAA;;AAAA,2CACf,EADe;;AAAA,+CAEnB,CAFmB;;AAAA,2CAIhB,IAJgB;AAAA;;AAMjCK,QAAAA,QAAQ,GAAG;AAChB,eAAKC,OAAL,GAAe,KAAKC,IAAL,CAAUC,QAAV,CAAmB,CAAnB,CAAf;;AACA,gBAAMC,MAAM,GAAG,KAAKH,OAAL,CAAaI,YAAb;AAAA;AAAA,iCAAf;;AACA,eAAKC,OAAL,GAAeF,MAAM,CAAEG,IAAvB;AACA,eAAKC,WAAL,GAAmBJ,MAAnB,aAAmBA,MAAnB,uBAAmBA,MAAM,CAAEI,WAA3B;AACD;;AAEMC,QAAAA,OAAO,GAAG;AACf,cAAI,KAAKR,OAAT,EAAkB;AAChB,iBAAKA,OAAL,CAAaS,OAAb;;AACA,iBAAKT,OAAL,GAAe,IAAf;AACD;AACF;;AAlBuC,O","sourcesContent":["\nimport { _decorator, Component, Node } from 'cc';\nimport { GameMap } from './GameMap';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MapManager')\nexport class MapManager extends Component {\n  public curPath: Node[] = [];\n  public maxProgress = 0;\n\n  private _curMap: Node = null;\n\n  public resetMap() {\n    this._curMap = this.node.children[0];\n    const curMap = this._curMap.getComponent(GameMap);\n    this.curPath = curMap!.path;\n    this.maxProgress = curMap?.maxProgress;\n  }\n\n  public recycle() {\n    if (this._curMap) {\n      this._curMap.destroy();\n      this._curMap = null;\n    }\n  }\n}\n\n"]}