{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/Cocos2dx-taxi/assets/script/data/PoolManager.ts"],"names":["_decorator","Component","instantiate","ccclass","property","PoolManager","getNode","prefab","parent","name","node","handle","has","get","pop","setParent","setNode","target","push","set","Map"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAyBC,MAAAA,W,OAAAA,W;;;;;;;OACxC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;6BAGjBK,W,WADZF,OAAO,CAAC,aAAD,C,mCAAR,MACaE,WADb,SACiCJ,SADjC,CAC2C;AAIpB,eAAPK,OAAO,CAACC,MAAD,EAAiBC,MAAjB,EAA+B;AAClD,gBAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AACA,cAAIC,IAAU,GAAG,IAAjB;;AACA,cAAI,KAAKC,MAAL,CAAYC,GAAZ,CAAgBH,IAAhB,CAAJ,EAA2B;AAAA;;AACzBC,YAAAA,IAAI,uBAAG,KAAKC,MAAL,CAAYE,GAAZ,CAAgBJ,IAAhB,CAAH,qDAAG,iBAAuBK,GAAvB,EAAP;AACD,WAFD,MAEO;AACLJ,YAAAA,IAAI,GAAGR,WAAW,CAACK,MAAD,CAAlB;AACD;;AAEDG,UAAAA,IAAI,CAACK,SAAL,CAAeP,MAAf;AACA,iBAAOE,IAAP;AACD;;AAEoB,eAAPM,OAAO,CAACC,MAAD,EAAe;AAClC,gBAAMR,IAAI,GAAGQ,MAAM,CAACR,IAApB;AACAQ,UAAAA,MAAM,CAACT,MAAP,GAAgB,IAAhB;;AACA,cAAI,KAAKG,MAAL,CAAYC,GAAZ,CAAgBH,IAAhB,CAAJ,EAA2B;AAAA;;AACzB,sCAAKE,MAAL,CAAYE,GAAZ,CAAgBJ,IAAhB,yEAAuBS,IAAvB,CAA4BD,MAA5B;AACD,WAFD,MAEO;AACL,iBAAKN,MAAL,CAAYQ,GAAZ,CAAgBV,IAAhB,EAAsB,CAACQ,MAAD,CAAtB;AACD;AACF;;AAzBwC,O,qCAElB,IAAIG,GAAJ,E","sourcesContent":["\nimport { _decorator, Component, Node, Prefab, instantiate } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PoolManager')\nexport class PoolManager extends Component {\n\n  public static handle = new Map<string, Node[]>();\n\n  public static getNode(prefab: Prefab, parent: Node) {\n    const name = prefab.name;\n    let node: Node = null;\n    if (this.handle.has(name)) {\n      node = this.handle.get(name)?.pop();\n    } else {\n      node = instantiate(prefab) as Node;\n    }\n\n    node.setParent(parent);\n    return node;\n  }\n\n  public static setNode(target: Node) {\n    const name = target.name;\n    target.parent = null;\n    if (this.handle.has(name)) {\n      this.handle.get(name)?.push(target);\n    } else {\n      this.handle.set(name, [target]);\n    }\n  }\n}"]}