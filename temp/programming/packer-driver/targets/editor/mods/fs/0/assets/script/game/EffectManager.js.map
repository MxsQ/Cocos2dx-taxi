{"version":3,"sources":["file:///Users/qinx/coding/cocos2dx/taxi/assets/script/game/EffectManager.ts"],"names":["_decorator","Component","Prefab","Constants","CustomEventListener","PoolManager","ccclass","property","EffectManager","type","start","on","EventName","STARTBRA_KING","_startBraking","END_BRANING","_endBraking","SHOW_COIN","_showCoin","args","follow","_followTarget","_curBraking","getNode","brakeTrail","node","setWorldRotation"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;;AAC7BC,MAAAA,S,kBAAAA,S;;AACAC,MAAAA,mB,4BAAAA,mB;;AACAC,MAAAA,W,oBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;+BAGjBQ,a,WADZF,OAAO,CAAC,eAAD,C,UAGLC,QAAQ,CAAC;AACRE,QAAAA,IAAI,EAAEP;AADE,OAAD,C,UAKRK,QAAQ,CAAC;AACRE,QAAAA,IAAI,EAAEP;AADE,OAAD,C,oCARX,MACaM,aADb,SACmCP,SADnC,CAC6C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,iDAYb,IAZa;;AAAA,+CAaf,IAbe;AAAA;;AAepCS,QAAAA,KAAK,GAAG;AACb;AAAA;AAAA,0DAAoBC,EAApB,CAAuB;AAAA;AAAA,sCAAUC,SAAV,CAAoBC,aAA3C,EAA0D,KAAKC,aAA/D,EAA8E,IAA9E;AACA;AAAA;AAAA,0DAAoBH,EAApB,CAAuB;AAAA;AAAA,sCAAUC,SAAV,CAAoBG,WAA3C,EAAwD,KAAKC,WAA7D,EAA0E,IAA1E;AACA;AAAA;AAAA,0DAAoBL,EAApB,CAAuB;AAAA;AAAA,sCAAUC,SAAV,CAAoBK,SAA3C,EAAsD,KAAKC,SAA3D,EAAsE,IAAtE;AACD;;AAEOJ,QAAAA,aAAa,CAAC,GAAGK,IAAJ,EAAiB;AACpC,gBAAMC,MAAM,GAAG,KAAKC,aAAL,GAAqBF,IAAI,CAAC,CAAD,CAAxC;AACA,eAAKG,WAAL,GAAmB;AAAA;AAAA,0CAAYC,OAAZ,CAAoB,KAAKC,UAAzB,EAAqC,KAAKC,IAA1C,CAAnB;;AACA,eAAKH,WAAL,CAAiBI,gBAAjB,CAAkCN,MAAlC;AACD;;AAEOJ,QAAAA,WAAW,GAAG,CAErB;;AAEOE,QAAAA,SAAS,GAAG,CAEnB;;AAjC0C,O;;;;;iBAKtB,I;;;;;;;iBAKN,I","sourcesContent":["\nimport { _decorator, Component, Node, Prefab } from 'cc';\nimport { Constants } from '../data/Constants';\nimport { CustomEventListener } from '../data/CustomEventListener';\nimport { PoolManager } from '../data/PoolManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('EffectManager')\nexport class EffectManager extends Component {\n\n  @property({\n    type: Prefab\n  })\n  brakeTrail: Prefab = null;\n\n  @property({\n    type: Prefab\n  })\n  coin: Prefab = null;\n\n  private _followTarget: Node = null;\n  private _curBraking: Node = null;\n\n  public start() {\n    CustomEventListener.on(Constants.EventName.STARTBRA_KING, this._startBraking, this);\n    CustomEventListener.on(Constants.EventName.END_BRANING, this._endBraking, this);\n    CustomEventListener.on(Constants.EventName.SHOW_COIN, this._showCoin, this);\n  }\n\n  private _startBraking(...args: any[]) {\n    const follow = this._followTarget = args[0];\n    this._curBraking = PoolManager.getNode(this.brakeTrail, this.node);\n    this._curBraking.setWorldRotation(follow);\n  }\n\n  private _endBraking() {\n\n  }\n\n  private _showCoin() {\n\n  }\n\n}"]}